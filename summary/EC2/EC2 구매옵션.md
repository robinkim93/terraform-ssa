EC2는 기본적으로 On-Demand 인스턴스로 생성된다. 이는, 비용을 예측할 수 있고, 초 단위로 요금을 지불하기 때문에 단기적인 워크로드에 적합하다.
하지만 다른 종류의 워크로드가 있다면 AWS에 그것을 지정하여 할인을 받고 비용을 최적화 할 수 있다.

- 예약 인스턴스 (1년 또는 3년)
  On-Demand 인스턴스에 비해 약 72% 할인을 받을 수 있다.
  인스턴스 타입, 리전, 테넌시, OS 등을 예약할 수 있다.
  1년 또는 3년 예약이 가능하며, 전부 선결제로 이루어 지고 3년 약정 시 할인율이 가장 크다
  전체 선불, 부분 선불, 선결제 없음 중 선택할 수 있고, 전체 선불 시 할인율이 가장 크다
  인스턴스의 용량을 리전 또는 AZ 단위로 예약할 수 있고, 일정한 사용량을 사용하는 애플리케이션을 약정하는 것이 좋으며, 예를 들면 데이터베이스 사용 등이 있다.
  예약 인스턴스는 마켓플레이스에서 구매 및 판매할 수 있다.
  또한, 인스턴스의 크기를 유연하게 변경 할 수 있도록 전환형 예약 인스턴스를 사용할 수 있다. 유연한 기능을 제공하기 때문에 할인율은 조금 더 적어진다.

- 절약 인스턴스 (1년 또는 3년)
  특정 인스턴스 유형을 약정하는 것이 아닌, 달러 단위로 특정한 사용량에 대한 약정을 하는 것이다.
  예를 들어, 3년 간 시간 당 10달러를 약정한다면, 10달러까지는 할인 된 요금으로 인스턴스를 사용하다가, 약정 금액이 넘어가면 일반 온디멘드 가격으로 전환된다.
  절약 인스턴스는 인스턴스 패밀리와 리전이 고정된다.
  예를 들어, t2 인스턴스 패밀리와 ap-northeast-2 리전에 약정을 하면, 인스턴스 사이즈와 OS, 테넌시는 유연하게 변경할 수 있다.

- 스팟 인스턴스
  On-Demand 인스턴스보다 약 90% 할인을 받을 수 있다.
  하지만, 스팟 인스턴스에 지불할 최대 가격을 정하고, 그 가격을 초과하면 인스턴스가 소실될 수 있다.
  그렇기 때문에, 가장 비효율적인 구매 옵션이지만, 인스턴스 회복력이 높다면 스팟 인스턴스를 사용하는 것도 좋은 방법이 될 수 있다.
  예를 들면, 배치작업이나 분산형 워크로드, 시작 시간과 종료 시간이 명확한 워크로드에 적합할 수 있다.
  그렇기 때문에 아주 중요한 작업이나 데이터베이스 사용에는 적합하지 않다.

- 전용 호스트
  EC2가 실행되는 물리적 서버 전체를 예약할 수 있다. 쉽게 말하면 일반 EC2 인스턴스를 사용하면 아파트처럼 하나의 건물에 여러 가구가 분리된 형태로 사용하지만, 전용 호스트를 사용하면 단독주택처럼 하나의 건물을 혼자 사용하면서 전체를 제어할 수 있다.
  On-Demand 인스턴스와 마찬가지로 초 단위로 요금이 청구될 수 있고, 마찬가지로 1년 또는 3년의 약정을 할 수 있다.
  실제 물리적 서버 자체를 구매하기 때문에 가장 비싼 비용이 청구된다.

  규정 준수 요구 사항을 해결하고 기존 서버 바인딩 소프트웨어 라이선스(VM별, 소켓별, 코어별 소프트웨어 라이선스)를 사용할 수 있다.

  이를 이해하기 위해서는 다양한 사례를 통해 이해할 수 있는데,

  1. 규정 준수 요구사항 해결

  - 의료 데이터 및 금융 서비스의 데이터에서는 다른 회사의 데이터와 같은 물리적 서버에 있으면 안된다라는 규정이 포함될 수 있고, 이 경우에는 일반 EC2 인스턴스를 사용할 경우 규정 위반이기 때문에 전용 호스트를 활용하여 물리적 서버 분리를 통해 규정을 준수할 수 있다.

  2.  VM 별 라이선스 사용

  - Oracle Database Enterprise Edition 라이선스는 VM 수에 따라 라이선스 비용을 책정하는데, 물리적 서버를 공유하고 있다면, 나의 인스턴스를 포함한 물리적 서버에서 돌아가고 있는 다른 사람의 VM 수도 포함하기 때문에 필요없는 비용이 증가하게 된다. 이 때는 전용 호스트를 활용하여 물리적 서버를 분리하여 내가 사용하는 VM 수만 포함하여 라이선스 가격을 지불할 수 있다.

- 전용 인스턴스
  물리적 서버를 사용하는 것은 같지만 물리적 서버 컴퓨팅 자체를 제어할 수 있는 권한은 없고, AWS에서 특정 물리적 서버에 계정을 할당하는 방식이기 때문에 물리적 서버 컴퓨팅 자체는 AWS에서 제어한다.

- 용량 예약
  원하는 기간 동안 특정 AZ에 용량을 예약 할 수 있다. 기간 약정은 존재하지 않기 때문에 언제든지 용량에 접근할 수 있다.
  할인을 받기 위해서는 예약 인스턴스 및 절약 인스턴스와 결합해야한다.
  인스턴스를 실행하는지와는 무관하게 On-demand 인스턴스 요금을 지불한다.  
  예를 들어, 블랙 프라이데이나 크리스마스 등 이벤트가 있을 때는 인기 있는 특정 인스턴스 유형이 빠르게 소진될 수 있고, 소진되었을 경우 트래픽을 감당할 수 있는 방법이 없어지기 때문에 실행하지 않을 때도 온디멘드 요금이 나가지만 그것을 감수하더라도 용량 보장을 받는 것에 가치를 둔다.

- On-Demand 인스턴스
  Linux 또는 Windows 인스턴스를 초 단위로 지불하는 것이다. 다른 OS의 경우에는 1시간 단위로 금액이 청구된다.
  비용이 가장 많이 들지만, 바로 지불해야하는 금액이 없고, 장기적인 약정도 필요하지 않다.
  그렇기 때문에, 단기적이고 중단이 없는 워크로드가 필요할 때, 또는 어플리케이션의 거동?을 예측할 수 없을 때 사용한다.

EC2 스팟 인스턴스는 비용을 절감하고 특정 인스턴스 유형을 사용할 수 있는 방법이다.
특정 사용 비용을 정해두고, 해당 비용을 초과할 경우 인스턴스가 회수된다. (손실된다)
인스턴스가 회수 되기 전 2분 전 알람을 받을 수 있고, 해당 인스턴스를 중지한다면 인스턴스는 회수되지 않는다.

인스턴스가 회수되지 않기를 바란다면 스팟 블록을 사용할 수 있는데, 이는 지정 기간 동안 스팟 인스턴스를 차단한다.

스팟 인스턴스를 종료하는 방법을 이해하려면 스팟 요청의 동작 원리를 이해해야 한다.
스팟 요청은 원하는 인스턴스의 수, 최대 가격 및 시작 사양 등을 정의한다 (AMI와 같은 개념)
그리고 요청의 유효기간을 정할 수 있고, 유효기간은 무한대도 가능하다.
요청에는 일회성과 영구 요청 타입이 존재하는데, 일회성 스팟 요청은 말 그대로 스팟 요청을 통해 인스턴스를 생성했다면 그걸로 끝이 난다.
하지만, 영구 스팟 요청은 어떤 이유로든 인스턴스가 중단되는 경우, 스팟 요청이 다시 실행되고 유효성이 확인되면 스팟 인스턴스가 다시 실행된다.

이를 설명하는 이유는, 스팟 인스턴스를 중지하더라도 스팟 요청이 남아있다면 다시 스팟 인스턴스를 생성하기 때문에 확실히 스팟 인스턴스를 중지하기 위해서는 스팟 요청을 먼저 중지한 후, 스팟 인스턴스를 취소 해야한다.

스팟 플릿
스팟 플릿은 가격을 궁극적으로 낮출 수 있는 방법이며, 스팟 인스턴스의 세트를 생성할 수 있다. 선택적으로는 on-demand 인스턴스를 포함할 수 있다.

스팟 플릿은 사용 가능한 런칭 풀에서 시작된다. 런칭 풀이라 함은 AZ, 인스턴스 타입, OS 및 네트워크 구성 등을 설정해둔 것을 의미한다. 그러면 스팟 플릿은 가장 적합한 런칭 풀에서 인스턴스를 시작하게 된다. 따라서 스팟 플릿에 스팟 인스턴스를 할당하는 전략을 정의해야 한다.

1. 최저 가격
   가장 낮은 가격인 런치 풀에서 인스턴스를 시작하기 때문에 가격을 최소화할 수 있다.

2. 분산
   스팟 플릿은 여러 런칭 풀에서 인스턴스를 시작하기 때문에 가용성을 향상시킬 수 있다. 한 쪽 런칭 풀에 문제가 생겨도 다른 런칭 풀에서 인스턴스를 시작할 수 있다.

3. 용량 최적화
   실행할 스팟 인스턴스 수에 맞는 용량을 가진 풀에서 인스턴스를 실행할 수 있다.

4. 가격 용량 최적화 (추천)
   용량이 가장 큰 런칭 풀을 먼저 고른 후, 그 다음 가격이 낮은 런칭 풀에서 인스턴스를 시작한다.

스팟 인스턴스와 스팟 플릿의 가장 큰 차이점은 스팟 인스턴스는 용량이나 AZ 를 명확하게 알고 있는 경우 바로 해당하는 단일 환경에 인스턴스를 실행하는 것이며 스팟 플릿은 다양한 환경(런칭 풀)을 정의하고 최적화 전략을 통해 용량이나 AZ를 AWS가 결정하여 인스턴스를 실행하는 것이다.
